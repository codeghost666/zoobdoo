{% set propertyImages = property.getImages()|length ? property.getImages() : null %}

<div class="carousel-wrapper">
    <div class="carousel slide article-slide" id="carousel-{{ property.getId() }}">
        <!-- Wrapper for slides -->
        <div class="carousel-inner cont-slider" role="listbox">
            {% if propertyImages %}
                {% for image in propertyImages %}
                    <div class="item {{ loop.first ? 'active' : ''}}" data-target="#carousel-{{ property.getId() }}">
                        {% set imagePath = image ? asset(image.getPath() ~ '/' ~ image.getName()) | imagine_filter('listings_325_300') : 'https://placehold.it/325x300' %}
                        <img alt="" title="" src="{{ imagePath }}">
                    </div>
                {% endfor %}
            {% else %}
                <div class="item active">
                    <img alt="" title="" src="https://placehold.it/325x300">
                </div>
            {% endif %}

        </div>
        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-{{ property.getId() }}" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-{{ property.getId() }}" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
        <!-- Indicators -->
        <div class="article-photo">
            <ol class="carousel-indicators">
                {% if propertyImages %}
                    {% for image in propertyImages %}
                        <li class="{{ loop.first ? 'active' : '' }}" data-slide-to="{{ loop.index - 1 }}" data-target="#carousel-{{ property.getId() }}">
                            {% set imagePath = image ? asset(image.getPath() ~ '/' ~ image.getName()) | imagine_filter('listings_65_75') : 'https://placehold.it/65x75' %}
                            <img alt="" src="{{ imagePath }}">
                        </li>
                    {% endfor %}
                {% else %}
                    <li class="active" data-slide-to="0" data-target="#carousel-1">
                        <img alt="" src="https://placehold.it/65x75">
                    </li>
                {% endif %}
            </ol>
        </div>

    </div>
</div>
